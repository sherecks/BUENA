<!DOCTYPE html>

<html lang="pt-br">

    <head>
        <link rel="stylesheet" href="static/stylegallery.css" />

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">

        <meta charset="UTF-8" />
        <link rel="shortcut icon" href="images/favicon.png" type="image/x-icon">
        <title>Galeria Buena</title>
        <script src="https://kit.fontawesome.com/0db4c44db2.js" crossorigin="anonymous"></script>
        <meta property="og:type" content="website" />
    </head>

    <div id="preloader">
        <img class="VideoLoader" preload="auto" src="images/Buenavibra_logo_2.png"> 
    </div>
    
    <header>
        <img class="photo-web" src="images/Buenavibra_logo_1.png">
        <p class="artgtext1"> GALERIA DE FOTOS </p>
        <p class="artgtext2">BUENA HALLOWEN 05/10</p>
    </header>

    <main>

        <div class="image-container" id="imageContainer"></div>
        
        <div class="pagination">
            <button id="prevButton" disabled>Anterior</button>
            <span id="pageInfo"></span>
            <button id="nextButton">Próximo</button>
        </div>

        <script src="imageIds.js"></script>

        <script>
            const imageContainer = document.getElementById('imageContainer');
            const prevButton = document.getElementById('prevButton');
            const nextButton = document.getElementById('nextButton');
            const pageInfo = document.getElementById('pageInfo');
            const imagesPerPage = 10; // Número de imagens por página
            let currentPage = 1; // Página atual
            
            function createImageUrl(fileId) {
                return `https://lh3.googleusercontent.com/d/${fileId}=s200`; // Define a largura da imagem como 200px
            }
            
            function createDownloadUrl(fileId) {
                return `https://drive.google.com/uc?export=download&id=${fileId}`;
            }
            
            function displayImages(page) {
                imageContainer.innerHTML = ''; // Limpa o contêiner antes de adicionar novas imagens
            
                const start = (page - 1) * imagesPerPage; // Índice inicial
                const end = start + imagesPerPage; // Índice final
            
                const paginatedImages = imageIds.slice(start, end); // Obtém o subconjunto de imagens para a página atual
            
                paginatedImages.forEach(id => {
                    const wrapper = document.createElement('div');
                    wrapper.className = 'image-wrapper';
            
                    const img = document.createElement('img');
                    img.src = createImageUrl(id);
                    img.alt = `Image ${id}`;
                    img.loading = 'lazy';
            
                    const downloadBtn = document.createElement('a');
                    downloadBtn.href = createDownloadUrl(id);
                    downloadBtn.className = 'download-btn';
                    downloadBtn.download = `image_${id}`;
            
                    const downloadImg = document.createElement('img');
                    downloadImg.src = './images/Button1.png'; // Coloque o caminho da sua imagem aqui
                    downloadImg.alt = 'Download';
            
                    downloadBtn.appendChild(downloadImg);
                    wrapper.appendChild(img);
                    wrapper.appendChild(downloadBtn);
            
                    imageContainer.appendChild(wrapper);
                });
            
                // Atualiza a informação da página e o estado dos botões
                pageInfo.textContent = `Página ${page} de ${Math.ceil(imageIds.length / imagesPerPage)}`;
                prevButton.disabled = page === 1; // Desabilita o botão "Anterior" na primeira página
                nextButton.disabled = page === Math.ceil(imageIds.length / imagesPerPage); // Desabilita o botão "Próximo" na última página
            }
            
            // Adiciona event listeners aos botões de paginação
            prevButton.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    displayImages(currentPage);
                }
            });
            
            nextButton.addEventListener('click', () => {
                if (currentPage < Math.ceil(imageIds.length / imagesPerPage)) {
                    currentPage++;
                    displayImages(currentPage);
                }
            });
            
            // Exibe a primeira página ao carregar
            displayImages(currentPage);

        </script>
       
    </main>

    <script>
        var loaderer = document.getElementById("preloader");

        window.addEventListener("load", function(){
            loaderer.style.display = "none";
        })
    </script>
    
</body>

</html>